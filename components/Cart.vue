<template>
  <div v-if="cart.length" class="cart">
    <h2>–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h2>
    <ul>
      <li v-for="item in cart" :key="item.id">
        {{ item.name }} - {{ item.price }} x {{ item.quantity }}
        <button @click="removeFromCart(item)">–£–¥–∞–ª–∏—Ç—å</button>
      </li>
    </ul>
    <p>–ò—Ç–æ–≥–æ: {{ totalPrice }}</p>
    <button @click="checkout">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
  </div>
  <p v-else>–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>
</template>

<script setup>
import { ref } from 'vue';

const cart = ref([]);

const totalPrice = computed(() => {
  return cart.value.reduce((total, item) => total + item.price * item.quantity, 0);
});

const addToCart = (product) => {
  const existingItem = cart.value.find(item => item.id === product.id);
  if (existingItem) {
    existingItem.quantity++;
  } else {
    cart.value.push({ ...product, quantity: 1 });
  }
};

const removeFromCart = (item) => {
  cart.value = cart.value.filter(cartItem => cartItem.id !== item.id);
};

const checkout = () => {
  // ––æ–≥–∏–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
};
</script>

<style scoped>
.cart {
  border: 1px solid #ccc;
  padding: 1rem;
}
</style>
